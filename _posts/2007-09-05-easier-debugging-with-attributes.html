---
layout: post
status: publish
published: true
title: Easier Debugging with Attributes
author: Rob Prouse
author_email: rob@prouse.org
wordpress_id: 31
wordpress_url: /2007/09/05/easier-debugging-with-attributes/
date: '2007-09-05 10:41:56 +0000'
date_gmt: '2007-09-05 15:41:56 +0000'
tags:
- ".NET"
- C#
---
<p>Unless you have been inspecting some of the code generated by Visual Studio, you probably haven't realized that there are several attributes that you can add to your code to make debugging easier. Some prevent you from stepping into sections of code, others change the way variables are displayed in the watch window. </p>
<p>The following are some of the more useful attributes found in the System.Diagnostics namespace.</p>
<h3>DebuggerStepThrough</h3>
<p>I don't know about you, but I hate it when I try to step into a method, but before I get there, I have to step into the getter for every property that is being passed in as a parameter. You have to step in/step out repeatedly until you end up in the method. Half the time, I end up missing it and step out of the method!</p>
<p>To prevent this dance, just add the <strong><a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debuggerstepthroughattribute.aspx">DebuggerStepThrough</a></strong> attribute to the getter for your simple properties and the debugger will no longer step into them. This also works on methods and even entire classes.</p>
<pre><code>public string Name
{
    [DebuggerStepThrough]
    get { return _name; }
    set { _name = value; }
}</code></pre>
<h3>DebuggerBrowsable</h3>
<p>Do you want to simplify or change the way your class appears in the watch window? This attribute allows you to hide members and properties or even hide the root of a collection.&nbsp;<strong><a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debuggerstepthroughattribute.aspx">DebugBrowsable</a></strong> is constructed with the <strong><a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debuggerbrowsablestate.aspx">DebuggerBrowsableState</a></strong> enum which has the following members;</p>
<table cellspacing="4" cellpadding="2" width="100%">
<tbody>
<tr valign="top">
<td><b>Collapsed</b></td>
<td>Show the element as collapsed.</td>
</tr>
<tr valign="top">
<td><b>Never</b></td>
<td>Never show the element.</td>
</tr>
<tr valign="top">
<td><b>RootHidden</b></td>
<td>Do not display the root element; display the child elements if the element is a collection or array of items.</td>
</tr>
</tbody>
</table>
<p>For example, adding </p>
<pre><code>[DebuggerBrowsable( DebuggerBrowsableState.Never )]</code></pre>
<p>to the private members of a class will cause them to be hidden in the watch window, thus cleaning up the view.</p>
<p><img height="134" src="/assets/img/2007/09/windowslivewritereasierdebuggingwithattributes-a2c2debuggerdisplay13.jpg" width="486"></p>
<h3>DebuggerDisplay</h3>
<p><strong><a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debuggerdisplayattribute.aspx">DebuggerDisplay</a></strong> is my favourite attribute. Add it to a class and construct it with a string, and it will display that string in the watch window. Add any properties you want displayed within curly braces and they will automatically be substituted in. For example;</p>
<pre><code>[DebuggerDisplay( "Name: {Name}, Age: {Age}" )]
public class Person
{
    // ...
}</code></pre>
<p><img height="132" src="/assets/img/2007/09/windowslivewritereasierdebuggingwithattributes-a2c2debuggerdisplay20.jpg" width="486"> </p>
<p>These are the three attributes that I use most often, but you may also want to look up <strong><a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debuggerstepperboundaryattribute.aspx">DebuggerStepperBoundary</a></strong>, <strong><a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debuggertypeproxyattribute.aspx">DebuggerTypeProxy</a></strong> and <strong><a href="http://msdn2.microsoft.com/en-us/library/system.diagnostics.debuggervisualizerattribute.aspx">DebuggerVisualizer</a>.</strong></p>
<p>Happy Debugging!</p>
