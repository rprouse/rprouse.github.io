---
layout: post
status: publish
published: true
title: Installing Google Play (GApps) on Visual Studio Android Emulators (2017 version)
author: Rob Prouse
author_email: rob@prouse.org
wordpress_id: 742
wordpress_url: /?p=742
date: '2017-02-02 15:27:09 +0000'
date_gmt: '2017-02-02 20:27:09 +0000'
tags:
- Visual Studio
- Tips'n'Tricks
- Android
- Xamarin
comments:
- id: 85801
  author: Installing Google Play Services (GAPPS) on Visual Studio Android Emulators
    - Rob Prouse
  author_email: ''
  author_url: /2015/10/28/installing-google-play-services-gapps-on-visual-studio-android-emulators/
  date: '2017-02-02 15:34:25 +0000'
  date_gmt: '2017-02-02 20:34:25 +0000'
  content: "[&#8230;] I have updated this post for 2017 here, I recommend that you
    read that [&#8230;]"
- id: 85806
  author: R Schmitt
  author_email: rschmitt1313@gmail.com
  author_url: ''
  date: '2017-03-28 15:19:00 +0000'
  date_gmt: '2017-03-28 20:19:00 +0000'
  content: Thanks, Rob for posting the update for 2017. I am emulating 6.0 and followed
    the directions. The reboot, after gapps-L-4-21-15.zip, has my emulator stuck on
    the Android boot screen and then the "Android is starting... optimizing app n
    of 11."... I have let it churn for a couple hours but it just keeps running through
    this cycle over and over. Never got a stable launch yet where I could drag-n-drop
    benzo-gapps-M-20151011-signed-chroma-r3.zip. Should I start over?
- id: 85807
  author: R Ben
  author_email: v-rybent@microsoft.com
  author_url: ''
  date: '2017-03-28 16:07:00 +0000'
  date_gmt: '2017-03-28 21:07:00 +0000'
  content: Same issue here anyone have a solution or workaround?
- id: 85808
  author: R Schmitt
  author_email: rschmitt1313@gmail.com
  author_url: ''
  date: '2017-03-28 17:22:00 +0000'
  date_gmt: '2017-03-28 22:22:00 +0000'
  content: 'Just found this on another site and it did the trick for me: open Hyper-V
    manager, select the Android VM->Settings->Processor->Compatibility, and check
    the only checkbox over there, to "migrate to a physical computer with a different
    processor version". -- Good luck!'
- id: 85809
  author: R Ben
  author_email: v-rybent@microsoft.com
  author_url: ''
  date: '2017-03-28 17:40:00 +0000'
  date_gmt: '2017-03-28 22:40:00 +0000'
  content: THat worked! Thank you glad I found these comments! and of course Thx Rob!
- id: 85810
  author: Rob Prouse
  author_email: rob@prouse.org
  author_url: ''
  date: '2017-03-28 18:05:00 +0000'
  date_gmt: '2017-03-28 23:05:00 +0000'
  content: Thanks. I totally forget I had to do that on one of my computers. Good
    find.
- id: 85811
  author: Vlad Bilyk
  author_email: vlad.bilyk@gmail.com
  author_url: ''
  date: '2017-04-01 12:21:00 +0000'
  date_gmt: '2017-04-01 17:21:00 +0000'
  content: |-
    I've sucessfully installed "Genymotion ARM Translation", gapps-L-4-21-15.zip and benzo-gapps-M-20151011-signed-chroma-r3.zip to Android 6 in my VS Emulator, but I cannot login to Play Store. I enter my acocunt and password, I receive 2-step verification code, I enter the code, but after that I constantly get the error "Couldn't sign in. The was a problem communicating with Google servers." (see picture below).
     https://uploads.disquscdn.com/images/592dd46e2138f20ad64c7b706724945fec358f9854a61fdbd014fc9e97a31d70.png
- id: 85812
  author: Rob Prouse
  author_email: rob@prouse.org
  author_url: ''
  date: '2017-04-02 08:23:00 +0000'
  date_gmt: '2017-04-02 13:23:00 +0000'
  content: Is the network working on the emulator? Open a browser and make sure you
    can browse. If not, let me know and I can help you get it working.
- id: 85813
  author: Vlad Bilyk
  author_email: vlad.bilyk@gmail.com
  author_url: ''
  date: '2017-04-03 01:41:00 +0000'
  date_gmt: '2017-04-03 06:41:00 +0000'
  content: Rob, I've checked it twice - the network works fine, I even receive a text
    message with 2-step verification code from Google, I enter it, but something wrong
    happens when emulator sends or validates the verification code to Google...
- id: 85814
  author: Rob Prouse
  author_email: rob@prouse.org
  author_url: ''
  date: '2017-04-03 07:52:00 +0000'
  date_gmt: '2017-04-03 12:52:00 +0000'
  content: |-
    Which of the emulators are you using? I've got it working on the 10.1" XHDPI and the 5.5" XXXHDPI images for Marshmallow. I do find this whole process to be very unstable and buggy though. I really wish Microsoft could work with Google to include this in their images.

    Has anyone else seen the errors that Vlad is seeing and offer suggestions?
- id: 85815
  author: Vlad Bilyk
  author_email: vlad.bilyk@gmail.com
  author_url: ''
  date: '2017-04-03 08:11:00 +0000'
  date_gmt: '2017-04-03 13:11:00 +0000'
  content: "I also use 5'' Marshmallow (6.0.0) XXHDPI Phone image (see details). \n\nI'm
    newby in Xamarin and Android development, where can I get system Android logs
    (something similar to Windows Event Logs) for troubleshooting?\n\n https://uploads.disquscdn.com/images/b29d266312e15caae35a5baf7ba01fa1a3ce8aca3a9b653b40c37712a1e3509e.png"
- id: 85816
  author: Rob Prouse
  author_email: rob@prouse.org
  author_url: ''
  date: '2017-04-03 08:15:00 +0000'
  date_gmt: '2017-04-03 13:15:00 +0000'
  content: |-
    In Visual Studio, you can go to Tools | Android | Device Log... for a Visual Studio Window.

    There is also Tools | Android | Device Monitor... which launches a separate app with more functionality. Careful, it tends to launch underneath other windows, so you might not see it come up. I prefer Device Monitor for any serious debugging.
- id: 85817
  author: Eugen
  author_email: e.zagvozdkin@gmail.com
  author_url: ''
  date: '2017-04-14 15:45:00 +0000'
  date_gmt: '2017-04-14 20:45:00 +0000'
  content: |-
    Hi! Thank a lot for your post.
    I've try to install on Android 6.0 emulator, everything goes fine, but after last restart on step 5 my newly created dev account become disabled. With link to https://support.google.com/accounts/answer/40695?hl=en

    Is it violation of Google politics? Should I submit for account restore?
- id: 85818
  author: Rob Prouse
  author_email: rob@prouse.org
  author_url: ''
  date: '2017-04-14 16:43:00 +0000'
  date_gmt: '2017-04-14 21:43:00 +0000'
  content: |-
    Odd, I've been doing this for years and never had my account disabled, but I use my regular account which is a valid Google developer account. I wonder if this is some sort of measure to prevent fake app reviews? My guess is that it is because it is a new account whereas mine is well used and makes regular purchases?

    I would submit for a restore and see what they say. Please report back if you learn anything.
- id: 85819
  author: Eugen
  author_email: e.zagvozdkin@gmail.com
  author_url: ''
  date: '2017-04-18 04:28:00 +0000'
  date_gmt: '2017-04-18 09:28:00 +0000'
  content: I reinstall emulator and sign in with regular account. Works grate for
    6.0 and 4.4. Thanks a lot!
- id: 85834
  author: Satyendra Vishwakarma
  author_email: satyandrav@hotmail.com
  author_url: ''
  date: '2017-06-29 06:06:00 +0000'
  date_gmt: '2017-06-29 11:06:00 +0000'
  content: Thanks a lot!
- id: 85835
  author: Rob Gaudet
  author_email: robgaudet@live.com
  author_url: http://www.hashparade.com
  date: '2017-07-09 22:46:00 +0000'
  date_gmt: '2017-07-10 03:46:00 +0000'
  content: |-
    I'm running the emulator that is comes built into Visual Studio 2017. When I drop "Genymotion ARM Translation" onto the emulator, VisualStudio_android-23-x86_phone nothing happens. Nothing happens when I drop any of the zip files onto the emulator. I am not running in admin mode.
    Any help would be greatly appreciated!
- id: 85836
  author: Rob Gaudet
  author_email: robgaudet@live.com
  author_url: http://www.hashparade.com
  date: '2017-07-09 23:15:00 +0000'
  date_gmt: '2017-07-10 04:15:00 +0000'
  content: https://uploads.disquscdn.com/images/1d90fb59cbcbf44f7ce478ed80bb5e2a8659ef969a1f71ba43006b806d6e0f5a.png
- id: 85837
  author: Rob Gaudet
  author_email: robgaudet@live.com
  author_url: http://www.hashparade.com
  date: '2017-07-10 00:36:00 +0000'
  date_gmt: '2017-07-10 05:36:00 +0000'
  content: Okay.. so I had to upgrade from Windows Home to Pro... I recently rebuilt
    and didn't realize I selected home. Once I did that I was able to install the
    Visual Studio Android Emulator.. Moving right along now. The play store is on
    the device.
- id: 85838
  author: Rob Prouse
  author_email: rob@prouse.org
  author_url: ''
  date: '2017-07-10 08:15:00 +0000'
  date_gmt: '2017-07-10 13:15:00 +0000'
  content: Good to hear that you got it working. If you don't need Hyper-V for other
    development tasks (Docker, VMs, etc), then you can use the emulators that you
    were first using. They are more up to date and ship with GApps pre-installed.
    You will need to disable Hyper-V, install the Intel HAXM drivers, then use the
    x86 based emulators. They are just as quick, but conflict with Hyper-V which is
    why many of us use the Microsoft emulators.
- id: 85842
  author: Jonathan Cardoso
  author_email: well.bad@hotmail.com
  author_url: ''
  date: '2017-08-29 16:28:00 +0000'
  date_gmt: '2017-08-29 21:28:00 +0000'
  content: Just in case anyone is having that, make sure you signin on google play
    before installing `benzo-gapps-...`
- id: 85846
  author: David Salas
  author_email: david@ziios.com
  author_url: ''
  date: '2017-09-27 23:10:00 +0000'
  date_gmt: '2017-09-28 04:10:00 +0000'
  content: It would be great if some of the features of the Xamarin Google Emulators
    were available in the Microsoft versions, such as the Keypad drivers that often
    are part of SmartTV systems.
- id: 85847
  author: David Salas
  author_email: david@ziios.com
  author_url: ''
  date: '2017-09-27 23:17:00 +0000'
  date_gmt: '2017-09-28 04:17:00 +0000'
  content: "Hello, I have been using the Visual Studio (Microsoft) Android Emulators
    for a while (VS 2017). I had 4 different profiles (All Marshmallow builds)  working
    just fine, until I reset the profile to reset the devices back to factory settings.
    After doing so, I am unable to drag and drop anything into them. \n\nGoogle only
    turned a Microsoft document related to the drag and drop issue and suggested to
    use RegEdit to modify the path for the root directory of the Android SDK, where
    adb.exe resides. I checked that and the path to the SDK is correct so that is
    not the cause.\n\nOddly enough, if the device has not been reset yet, I can still
    drag and drop zip files to it. It only prevents this after I click on the reset
    profile and restart the device. I does reset it alright, but there is not much
    I can do with gapps\n\nAny suggestions or links to a potential solution are greatly
    appreciated!\n\nDavid"
---
<p>The <a href="https://www.visualstudio.com/en-us/features/msft-android-emulator-vs.aspx">Visual Studio Emulator for Android</a> does not ship with <a href="https://developers.google.com/android/guides/overview">Google Play Services</a>, so if you want to use those services, like Google Maps, you must install them.</p>
<p>Back in 2015, <a href="/2015/10/28/installing-google-play-services-gapps-on-visual-studio-android-emulators/">I outlined the installation steps</a>, but those steps no longer work and the process is now much easier.</p>
<p><!--more--></p>
<h2>Download GApps</h2>
<p>The best place to download GApps is from <a href="http://www.teamandroid.com/gapps/">Team Android</a>. Do not download from <a href="http://opengapps.org/" target="_blank">Open GApps</a>, they will not install. Some versions from <a href="http://www.teamandroid.com/gapps/">Team Android</a> also do not install. I had to find an alternate version of GApps that installs and runs on Android 6.0.&nbsp;This requires an extra install, so see the instructions at the end.</p>
<p>The GApps versions I have found to work are,</p>
<table>
<tbody>
<tr>
<th>API</th>
<th>Android Ver</th>
<th></th>
<th>Notes</th>
</tr>
<tr>
<td>23</td>
<td>6.0 Marshmallow</td>
<td>[<a href="https://www.androidfilehost.com/?fid=96042739161891406">Part 1</a>] [<a href="https://www.androidfilehost.com/?fid=24052804347835438">Part 2</a>]</td>
<td>See notes below</td>
</tr>
<tr>
<td>22</td>
<td>5.1.1 Lollipop</td>
<td>[<a href="http://www.devfiles.co/download/fAgtiEoX/gapps-lp-20150314.zip">Download</a>]</td>
<td>&nbsp;Play Store crashes occasionally</td>
</tr>
<tr>
<td>21</td>
<td>5.0 Lollipop</td>
<td>[<a href="http://www.devfiles.co/download/R5AHj6Pz/gapps-lp-20141109-signed.zip">Download</a>]</td>
<td>&nbsp;Google+ crashes</td>
</tr>
<tr>
<td>19</td>
<td>4.4 KitKat</td>
<td>[<a href="http://www.devfiles.co/download/7m2VdVjQ/gapps-kk-20140105-signed.zip">Download</a>] [<a href="https://www.mediafire.com/?qmd7z9x5ndsb54k">Mirror</a>]</td>
<td></td>
</tr>
<tr>
<td>17</td>
<td>4.2 JellyBean</td>
<td>[<a href="http://www.devfiles.co/download/nzmXh3xF/gapps-jb-20130812-signed.zip">Download</a>]</td>
<td>&nbsp;Google+ crashes</td>
</tr>
</tbody>
</table>
<h2>Install Genymotion ARM Translation</h2>
<p>The Visual Studio emulators are x86 whereas most Android devices are ARM based. I find that many apps work as is, but for those that don't you should download and install <a href="https://www.dropbox.com/s/tdye2pobix70gqw/%5BTechBae.com%5DGenymotion-ARM-Translation_v1.1.zip?dl=0">Genymotion ARM Translation</a> which provides ARM to x86 translations.</p>
<p>Download the <a href="https://www.dropbox.com/s/tdye2pobix70gqw/%5BTechBae.com%5DGenymotion-ARM-Translation_v1.1.zip?dl=0">ARM Translation ZIP</a>, then drag it onto your running emulator. When the dialog opens, select <strong>Install and shut down</strong>.</p>
<p><img class="aligncenter size-full wp-image-751" src="/images/2017/02/2017-02-02-11_44_27-Visual-Studio-Emulator-for-Android.png" alt="" width="426" height="179" /></p>
<p>Once it finishes installing, shut down and restart the emulator.</p>
<h2>Installing GApps</h2>
<p>Installing GApps the same way by dragging the correct ZIP file and drop it on the running emulator. When the dialog opens, select <strong>Install and shut down</strong>.</p>
<p><img class="aligncenter size-full wp-image-752" src="/images/2017/02/Install-GApps.png" alt="" width="426" height="179" /></p>
<p>When you are prompted, shutdown the emulator and then restart it.</p>
<h2>Configuring GApps</h2>
<p>Once the emulator restarts, open Google Play and sign in with your account. Once you are signed in, go to <strong>My Apps</strong> and update all installed apps. Once the various Google apps update, you will likely get notifications that you must <strong>update Google Play Services</strong>. Click on one of them to update.</p>
<p><img class="aligncenter size-medium wp-image-754" src="/images/2017/02/Update-Google-Play-Service-275x300.png" alt="" width="275" height="300" /></p>
<p>On several versions of Android, Google+ will crash repeatedly. Dismiss the crash dialogs and try to update it using Google Play. If this does not work, go into App Settings and disable it.</p>
<h2>Installing on Android 6.0</h2>
<p>The version of GApps from Team Android crashed on Android 6.0, but I figured out a workaround based on <a href="https://z3ntu.github.io/2015/12/10/play-services-with-genymotion.html">z3ntu's post</a>.</p>
<ol>
<li>Download and install the <a href="https://www.dropbox.com/s/tdye2pobix70gqw/%5BTechBae.com%5DGenymotion-ARM-Translation_v1.1.zip?dl=0">Genymotion ARM Translation</a> then restart the emulator</li>
<li>Download and install&nbsp;<a href="https://www.androidfilehost.com/?fid=96042739161891406">gapps-L-4-21-15.zip</a></li>
<li>After rebooting, go to Google Play and sign in. Dismiss any crashes</li>
<li>Download and install&nbsp;<a href="https://www.androidfilehost.com/?fid=24052804347835438">benzo-gapps-M-20151011-signed-chroma-r3.zip</a></li>
<li>After rebooting, go to Google Play and update all installed apps</li>
</ol>
